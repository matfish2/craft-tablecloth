<div class="relative">
    <button @click.prevent="open = !open"
            class="ctc-rounded-lg ctc-inline-flex ctc-items-center ctc-bg-white hover:ctc-text-blue-500 focus:ctc-outline-none focus:ctc-shadow-outline ctc-text-gray-500 ctc-font-semibold ctc-py-2 ctc-px-2 md:ctc-px-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:hidden" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
             stroke-linejoin="round">
            <rect x="0" y="0" width="24" height="24" stroke="none"></rect>
            <path
                    d="M5.5 5h13a1 1 0 0 1 0.5 1.5L14 12L14 19L10 16L10 12L5 6.5a1 1 0 0 1 0.5 -1.5"/>
        </svg>
        <span class="hidden md:block">{{ 'Display'|t('tablecloth') }}</span>
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-1" width="24" height="24"
             viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
             stroke-linecap="round" stroke-linejoin="round">
            <rect x="0" y="0" width="24" height="24" stroke="none"></rect>
            <polyline points="6 9 12 15 18 9"/>
        </svg>
    </button>

    <div x-show="open" @click.away="open = false"
         class="ctc-z-40 ctc-absolute ctc-top-0 ctc-right-0 ctc-w-40 ctc-bg-white ctc-rounded-lg ctc-shadow-lg ctc-mt-12 ctc-mr-1 ctc-block ctc-py-1 ctc-overflow-hidden">
        <template x-for="column in displayableColumns">
            <label
                    class="ctc-flex ctc-justify-start ctc-items-center ctc-text-truncate hover:ctc-bg-gray-100 ctc-px-4 ctc-py-2">
                <div class="ctc-text-teal-600 ctc-mr-3">
                    <input type="checkbox" name="visibleColumns[]"
                           :value="column.handle"
                           :disabled="visibleColumns.length<=1 && visibleColumns.includes(column.handle)"
                           class="form-checkbox focus:ctc-outline-none focus:ctc-shadow-outline"
                           x-model="visibleColumns">
                </div>
                <div class="ctc-select-none ctc-text-gray-700" x-text="column.heading"></div>
            </label>
        </template>
    </div>
</div>